<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coastal Threat Alert System</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        :root {
            --primary-blue: #0077b6;
            --secondary-blue: #0096c7;
            --accent-blue: #48cae4;
            --primary-green: #38b000;
            --secondary-green: #70e000;
            --light-bg: #f8f9fa;
            --dark-text: #212529;
            --alert-red: #dc3545;
            --warning-orange: #fd7e14;
            --safe-green: #28a745;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--light-bg) 0%, #e6f7ff 100%);
            color: var(--dark-text);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .dashboard {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
        }

        .alert-panel {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .alert-panel h2 {
            color: var(--primary-blue);
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .alert-status {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            background: var(--safe-green);
            color: white;
            font-weight: bold;
        }

        .alert-status.warning {
            background: var(--warning-orange);
        }

        .alert-status.danger {
            background: var(--alert-red);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .metric-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-left: 4px solid var(--primary-green);
        }

        .metric-card.blue {
            border-left-color: var(--primary-blue);
        }

        .metric-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary-blue);
            margin: 10px 0;
        }

        .metric-label {
            font-size: 0.9rem;
            color: #666;
        }

        .map-container {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            height: 500px;
        }

        #map {
            height: 100%;
            width: 100%;
        }

        .notifications {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .notifications h2 {
            color: var(--primary-blue);
            margin-bottom: 20px;
            font-size: 1.5rem;
        }

        .notification-list {
            max-height: 300px;
            overflow-y: auto;
        }

        .notification-item {
            padding: 15px;
            border-left: 4px solid var(--primary-green);
            margin-bottom: 10px;
            background: #f8f9fa;
            border-radius: 4px;
        }

        .notification-item.warning {
            border-left-color: var(--warning-orange);
            background: #fff3cd;
        }

        .notification-item.danger {
            border-left-color: var(--alert-red);
            background: #f8d7da;
        }

        .notification-time {
            font-size: 0.8rem;
            color: #666;
            margin-top: 5px;
        }

        .coastal-image {
            width: 100%;
            height: 200px;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .coastal-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            color: #666;
            font-size: 0.9rem;
        }

        .legend {
            background: white;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin: 5px 0;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🌊 Coastal Threat Alert System</h1>
            <p>Real-time monitoring and early warning system for coastal inundation risks</p>
        </div>

        <div class="coastal-image">
            <img src="https://placehold.co/1200x400" alt="Aerial view of coastal shoreline with monitoring equipment and warning signs during high tide conditions" />
        </div>

        <div class="dashboard">
            <div class="alert-panel">
                <h2>Current Alert Status</h2>
                <div class="alert-status" id="currentAlert">
                    <span>🟢 No immediate threats detected</span>
                </div>
                
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-label">Wave Height</div>
                        <div class="metric-value">2.3m</div>
                        <div class="metric-subtext">Normal</div>
                    </div>
                    <div class="metric-card blue">
                        <div class="metric-label">Water Level</div>
                        <div class="metric-value">1.8m</div>
                        <div class="metric-subtext">Stable</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Wind Speed</div>
                        <div class="metric-value">15km/h</div>
                        <div class="metric-subtext">Moderate</div>
                    </div>
                    <div class="metric-card blue">
                        <div class="metric-label">Risk Level</div>
                        <div class="metric-value">Low</div>
                        <div class="metric-subtext">Safe</div>
                    </div>
                </div>

                <div class="legend">
                    <h3>Risk Legend</h3>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #28a745;"></div>
                        <span>Low Risk - Safe Conditions</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #fd7e14;"></div>
                        <span>Medium Risk - Caution Advised</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #dc3545;"></div>
                        <span>High Risk - Immediate Action</span>
                    </div>
                </div>
            </div>

            <div class="map-container">
                <div id="map"></div>
            </div>
        </div>

        <div class="notifications">
            <h2>Recent Alerts & Notifications</h2>
            <div class="notification-list" id="notificationList">
                <div class="notification-item">
                    <strong>System Check</strong> - All monitoring stations operational
                    <div class="notification-time">2 minutes ago</div>
                </div>
                <div class="notification-item warning">
                    <strong>Weather Advisory</strong> - Increased wind speeds expected in coastal areas
                    <div class="notification-time">15 minutes ago</div>
                </div>
                <div class="notification-item">
                    <strong>Data Update</strong> - Tide levels within normal parameters
                    <div class="notification-time">30 minutes ago</div>
                </div>
                <div class="notification-item">
                    <strong>Maintenance</strong> - Sensor calibration completed successfully
                    <div class="notification-time">1 hour ago</div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>Coastal Threat Alert System v1.0 | Real-time monitoring powered by AI and satellite data</p>
            <p>⚠️ In case of emergency, follow local evacuation procedures</p>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Initialize map
        const map = L.map('map').setView([37.7749, -122.4194], 10); // Default to San Francisco

        // Add base layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; OpenStreetMap contributors'
        }).addTo(map);

        // Add coastal risk zones
        const riskZones = [
            {
                coords: [[37.8, -122.5], [37.8, -122.3], [37.7, -122.3], [37.7, -122.5]],
                risk: 'low',
                popup: 'Low Risk Zone - Normal tidal activity'
            },
            {
                coords: [[37.75, -122.4], [37.75, -122.35], [37.73, -122.35], [37.73, -122.4]],
                risk: 'medium',
                popup: 'Medium Risk Zone - Monitor during high tide'
            },
            {
                coords: [[37.78, -122.38], [37.78, -122.36], [37.77, -122.36], [37.77, -122.38]],
                risk: 'high',
                popup: 'High Risk Zone - Potential inundation area'
            }
        ];

        riskZones.forEach(zone => {
            const polygon = L.polygon(zone.coords, {
                color: zone.risk === 'high' ? '#dc3545' : zone.risk === 'medium' ? '#fd7e14' : '#28a745',
                fillOpacity: 0.3,
                weight: 2
            }).addTo(map);
            
            polygon.bindPopup(zone.popup);
        });

        // Add monitoring stations
        const stations = [
            { lat: 37.78, lng: -122.42, name: 'Station Alpha' },
            { lat: 37.76, lng: -122.38, name: 'Station Beta' },
            { lat: 37.74, lng: -122.45, name: 'Station Gamma' }
        ];

        stations.forEach(station => {
            L.marker([station.lat, station.lng])
                .addTo(map)
                .bindPopup(`<b>${station.name}</b><br>Monitoring Station`)
                .openPopup();
        });

        // Simulate real-time data updates
        function updateMetrics() {
            const waveHeight = (Math.random() * 3 + 1).toFixed(1);
            const waterLevel = (Math.random() * 2 + 1).toFixed(1);
            const windSpeed = (Math.random() * 30 + 5).toFixed(0);
            
            document.querySelector('.metric-card:nth-child(1) .metric-value').textContent = waveHeight + 'm';
            document.querySelector('.metric-card:nth-child(2) .metric-value').textContent = waterLevel + 'm';
            document.querySelector('.metric-card:nth-child(3) .metric-value').textContent = windSpeed + 'km/h';

            // Update risk level based on conditions
            let riskLevel = 'Low';
            let riskColor = '#28a745';
            
            if (parseFloat(waveHeight) > 3.5 || parseFloat(waterLevel) > 2.5) {
                riskLevel = 'High';
                riskColor = '#dc3545';
            } else if (parseFloat(waveHeight) > 2.5 || parseFloat(windSpeed) > 25) {
                riskLevel = 'Medium';
                riskColor = '#fd7e14';
            }

            const riskElement = document.querySelector('.metric-card:nth-child(4) .metric-value');
            riskElement.textContent = riskLevel;
            riskElement.style.color = riskColor;

            // Update alert status
            const alertElement = document.getElementById('currentAlert');
            if (riskLevel === 'High') {
                alertElement.innerHTML = '<span>🔴 HIGH ALERT: Coastal inundation risk detected!</span>';
                alertElement.className = 'alert-status danger';
            } else if (riskLevel === 'Medium') {
                alertElement.innerHTML = '<span>🟡 CAUTION: Monitor conditions closely</span>';
                alertElement.className = 'alert-status warning';
            } else {
                alertElement.innerHTML = '<span>🟢 No immediate threats detected</span>';
                alertElement.className = 'alert-status';
            }
        }

        // Initial update
        updateMetrics();
        
        // Update every 30 seconds
        setInterval(updateMetrics, 30000);

        // Add new notifications periodically
        setInterval(() => {
            const notifications = [
                'Weather pattern change detected',
                'Tide levels rising gradually',
                'Sensor data synchronized',
                'Coastal erosion monitoring active'
            ];
            
            const randomNotification = notifications[Math.floor(Math.random() * notifications.length)];
            const notificationList = document.getElementById('notificationList');
            
            const newNotification = document.createElement('div');
            newNotification.className = 'notification-item';
            newNotification.innerHTML = `
                <strong>System Update</strong> - ${randomNotification}
                <div class="notification-time">Just now</div>
            `;
            
            notificationList.prepend(newNotification);
            
            // Keep only last 10 notifications
            if (notificationList.children.length > 10) {
                notificationList.removeChild(notificationList.lastChild);
            }
        }, 60000);
    </script>
</body>
</html>
